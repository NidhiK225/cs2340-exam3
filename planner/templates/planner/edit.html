{% extends "pitStop/base.html" %}
{% load static %}
{% block content %}
<div class="container py-4">
  <h2 class="mb-3">Edit My Profile</h2>
  <form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
    {% csrf_token %}
    {{ template_data.form.non_field_errors }}

    <div class="d-flex align-items-center gap-3 mb-4">
      {% if template_data.planner.image %}
        <img src="{{ template_data.planner.image.url }}" alt="Current image"
             width="96" height="96"
             style="width:96px;height:96px;border-radius:50%;object-fit:cover;object-position:center;display:block;">
      {% else %}
        <img src="{% static 'img/default_profile.jpg' %}" alt="Default image"
             width="96" height="96"
             style="width:96px;height:96px;border-radius:50%;object-fit:cover;object-position:center;display:block;">
      {% endif %}
      <div class="text-muted">Update your profile picture below.</div>
    </div>

    <div class="row g-3">
      <div class="col-md-4 text-muted d-flex align-items-center">Profile Image</div>
      <div class="col-md-8">{{ template_data.form.image }}</div>

      <div class="col-md-4 text-muted d-flex align-items-center">First Name</div>
      <div class="col-md-8">{{ template_data.form.firstName }}</div>

      <div class="col-md-4 text-muted d-flex align-items-center">Last Name</div>
      <div class="col-md-8">{{ template_data.form.lastName }}</div>

      <div class="col-md-4 text-muted d-flex align-items-center">Home Location</div>
      <div class="col-md-8">{{ template_data.form.location }}</div>
    </div>

    <h5 class="mt-4">Privacy</h5>
    <div class="row g-3">
      <div class="col-md-6">
        <div class="form-check">{{ template_data.form.hide_profile }}
          <label class="form-check-label" for="{{ template_data.form.hide_profile.id_for_label }}">{{ template_data.form.hide_profile.label }}</label>
        </div>
        <div class="form-check">{{ template_data.form.hide_image }}
          <label class="form-check-label" for="{{ template_data.form.hide_image.id_for_label }}">{{ template_data.form.hide_image.label }}</label>
        </div>
        <div class="form-check">{{ template_data.form.hide_location }}
          <label class="form-check-label" for="{{ template_data.form.hide_location.id_for_label }}">{{ template_data.form.hide_location.label }}</label>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-check">{{ template_data.form.hide_travel_headline }}
          <label class="form-check-label" for="{{ template_data.form.hide_travel_headline.id_for_label }}">{{ template_data.form.hide_travel_headline.label }}</label>
        </div>
        <div class="form-check">{{ template_data.form.hide_travel_budget }}
          <label class="form-check-label" for="{{ template_data.form.hide_travel_budget.id_for_label }}">{{ template_data.form.hide_travel_budget.label }}</label>
        </div>
      </div>
    </div>

    <div class="form-text mt-2">Check all that apply.</div>
    <div class="mt-3">
      <button class="btn btn-dark" type="submit">Save Changes</button>
      <a href="{% url 'planner.my_profile' %}" class="btn btn-outline-secondary">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
